{% extends 'layout/base.html' %}

{% block title %}Kết Quả Thanh Toán{% endblock %}
{% block search_bar %}{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-8 text-center">
            {% if ticket and ticket.status.value == 'confirmed' %}
                <div class="card border-success shadow">
                    <div class="card-body py-5">
                        <i class="fas fa-check-circle fa-5x text-success mb-4"></i>
                        <h1 class="card-title text-success">Thanh Toán Thành Công!</h1>
                        <p class="lead">Cảm ơn bạn đã hoàn tất thanh toán cho lịch hẹn.</p>
                        <p>Mã vé của bạn là: <strong>{{ ticket.uuid }}</strong></p>
                        <p>Vui lòng kiểm tra email hoặc trang quản lý lịch hẹn để xem chi tiết.</p>
                        <a href="{{ url_for('home') }}" class="btn btn-primary mt-3">Về Trang Chủ</a>
                    </div>
                </div>
            {% else %}
                <div class="card border-danger shadow">
                    <div class="card-body py-5">
                        <i class="fas fa-times-circle fa-5x text-danger mb-4"></i>
                        <h1 class="card-title text-danger">Thanh Toán Thất Bại</h1>
                        <p class="lead">Đã có lỗi xảy ra trong quá trình thanh toán hoặc bạn đã hủy giao dịch.</p>
                        <p>Vui lòng thử lại hoặc liên hệ bộ phận hỗ trợ.</p>
                        <a href="{{ url_for('select_payment_method', ticket_uuid=ticket.uuid) }}" class="btn btn-warning mt-3">Thử lại thanh toán</a>
                        <a href="{{ url_for('home') }}" class="btn btn-secondary mt-3">Về Trang Chủ</a>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}